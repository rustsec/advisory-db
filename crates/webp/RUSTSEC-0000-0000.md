```toml
[advisory]
id = "RUSTSEC-0000-0000"
package = "webp"
date = "2024-09-06"
url = "https://github.com/jaredforth/webp/issues/40"
categories = ["memory-exposure"]
informational = "unsound"

[versions]
patched = [">= 0.3.1"]
```

# webp crate may expose memory contents when encoding an image

Affected versions of this crate did not check that the input slice passed to `"webp::Encoder::encode()` is large enough for the specified image dimensions.

If the input slice is too short, the library will read out of bounds of the buffer and encode other memory contents as an image, resulting in memory exposure or a segmentation fault.

The flaw was corrected in [pull request #44](https://github.com/jaredforth/webp/pull/44) by always validating the input buffer size when constructing the encoder.
